<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../styles/admin.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


    <title>Admin Dashboard</title>
</head>

<body>
    <!-- overlay -->
    <div id="sidebar-overlay" class="overlay w-100 vh-100 position-fixed d-none"></div>

    <!-- sidebar -->
    <div class="col-md-3 col-lg-2 px-0 position-fixed h-100 bg-white shadow-sm sidebar" id="sidebar">
        <div class="list-group d-flex flex-column h-100">
            <div class="flex-grow-1">
                <a href="#" class="list-group-item list-group-item-action active border-0 d-flex align-items-center">
                    <span class="bi bi-layout-text-sidebar-reverse"></span>
                    <span id="home" style="padding-left: 4px;">Home</span>
                </a>
                <a href="#" class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                    <span class="bi bi-film"></span>
                    <span class="ml-2" id="manage-movies">Manage Movies</span>
                </a>
                <a href="#" class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                    <span class="bi bi-geo-alt"></span>
                    <span class="ml-2" id="manage-theatres">Manage Theatres</span>
                </a>
                <a href="#" class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                    <span class="bi bi-calendar3"></span>
                    <span class="ml-2" id="manage-showtimes">Manage Showtime</span>
                </a>
                <a href="#" class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                    <span class="bi bi-bookmark-check"></span>
                    <span class="ml-2" id="manage-reservations">Manage Reservations</span>
                </a>
            </div>
            <a href="home.html" class="list-group-item list-group-item-action border-0 d-flex align-items-center" style="background-color: red;">
                <span class="bi bi-house-door" style="color: white;"></span>
                <span class="ml-2" id="back-homepage" style="font-weight: bold; color: white;">Back Homepage</span>
            </a>            
        </div>
    </div>


    <div class="col-md-9 col-lg-10 ml-md-auto px-0 ms-md-auto">
        <!-- top nav -->
        <nav class="w-100 d-flex px-4 py-2 mb-4 shadow-sm">
            <div style="display: flex; align-items: center;">
                <div style="font-size: larger; padding: 5px; font-style: italic; display: flex; align-items: center;">
                    <span class="bi bi-camera-reels" style="margin-right: 8px;"></span>
                    CinemaSpot
                </div>
            </div>
            <div style="font-size: large; padding: 5px; width: 100%; translate: 90%;">Hello Admin</div>
            <!-- close sidebar -->
            <button class="btn py-0 d-lg-none" id="open-sidebar">
                <span class="bi bi-list text-primary h3"></span>
            </button>
            <div class="dropdown ml-auto">
                <button class="btn py-0 d-flex align-items-center" id="logout-dropdown" data-toggle="dropdown"
                    aria-expanded="false">
                    <span class="bi bi-person text-primary h4"></span>
                    <span class="bi bi-chevron-down ml-1 mb-2 small"></span>
                </button>
                <div class="dropdown-menu dropdown-menu-right border-0 shadow-sm" aria-labelledby="logout-dropdown">
                    <a class="dropdown-item" href="#">
                        <span class="bi bi-box-arrow-left"></span>
                        Logout
                    </a>
                    <a class="dropdown-item" href="#">
                        <span class="bi bi-gear"></span>
                        Settings
                    </a>
                </div>
            </div>
        </nav>

        <!-- main content -->
        <main class="p-4 min-vh-100">
            <div class="jumbotron jumbotron-fluid rounded bg-white border-0 shadow-sm border-left px-4"
                style="padding-top: 5px;">
                <div class="container">
                    <h1 class="display-4 mb-2 text-primary" id="heading">Movies</h1>
                    <div class="list"></div>
                    <!-- Movies -->
                    <section id="movies-section" class="admin-section">
                        <h2 class="display-4 mb-2 text-primary">Add Movies</h2>
                        <form id="movie-form" class="p-3 bg-light shadow-sm rounded">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <input type="text" class="form-control" id="movie-title" placeholder="Movie Title"
                                        required>
                                </div>
                                <div class="form-group col-md-6">
                                    <input type="url" class="form-control" id="movie-poster" placeholder="Poster URL"
                                        required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <input type="url" class="form-control" id="movie-cover" placeholder="Cover URL"
                                        required>
                                </div>
                                <div class="form-group col-md-6">
                                    <input type="text" class="form-control" id="movie-language" placeholder="Language"
                                        required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <input type="text" class="form-control" id="movie-genre" placeholder="Genre"
                                        required>
                                </div>
                                <div class="form-group col-md-6">
                                    <input type="text" class="form-control" id="movie-director" placeholder="Director"
                                        required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-12">
                                    <input type="url" class="form-control" id="movie-trailer" placeholder="Trailer URL"
                                        required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-12">
                                    <textarea class="form-control" id="movie-description" rows="2"
                                        placeholder="Movie Description" required></textarea>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-4">
                                    <input type="text" class="form-control" id="movie-duration"
                                        placeholder="Duration (e.g., 120 min)" required>
                                </div>
                                <div class="form-group col-md-4">
                                    <input type="date" class="form-control" id="movie-start-date" required>
                                </div>
                                <div class="form-group col-md-4">
                                    <input type="date" class="form-control" id="movie-end-date" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary btn-block">Add Movie</button>
                        </form>
                        <h1 class="display-4 mb-2 text-primary">List of Movies</h1>
                        <div id="movies-list" class="row"></div>
                    </section>

                    <!-- Theatre -->
                    <section id="theatres-section" class="admin-section">
                        <h2 class="mb-4">Theatres</h2>
                        <form id="theatre-form" class="p-3 bg-light shadow-sm rounded">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <input type="text" class="form-control" id="theatre-name" placeholder="Theatre Name"
                                        required>
                                </div>
                                <div class="form-group col-md-6">
                                    <input type="text" class="form-control" id="theatre-city" placeholder="City"
                                        required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <input type="number" class="form-control" id="theatre-ticket-price"
                                        placeholder="Ticket Price" required>
                                </div>
                                <div class="form-group col-md-6">
                                    <input type="number" class="form-control" id="theatre-seats"
                                        placeholder="Total Seats" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary btn-block">Add Theatre</button>
                        </form>
                        <div id="theatres-list" class="mt-4"></div>
                    </section>

                    <!-- Showtime -->
                    <section id="showtimes-section" class="admin-section">
                        <h2 class="mb-4">Showtimes</h2>
                        <form id="showtime-form" class="p-3 bg-light shadow-sm rounded">
                            <div class="form-row">
                                <div class="form-group col-md-6">
                                    <label for="showtime-movie" class="sr-only">Movie</label>
                                    <select id="showtime-movie" class="form-control" required>
                                        <option value="" disabled selected>Select Movie</option>
                                        <!-- Options will be populated dynamically -->
                                    </select>
                                </div>
                                <div class="form-group col-md-6">
                                    <label for="showtime-theatre" class="sr-only">Theatre</label>
                                    <select id="showtime-theatre" class="form-control" required>
                                        <option value="" disabled selected>Select Theatre</option>
                                        <!-- Options will be populated dynamically -->
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group col-md-12">
                                    <label for="showtime-time" class="sr-only">Showtime</label>
                                    <input type="datetime-local" id="showtime-time" class="form-control" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary btn-block">Add Showtime</button>
                        </form>
                        <div id="showtimes-list" class="mt-4"></div>
                    </section>

                    <!-- Reservations -->
                    <section id="reservations-section" class="admin-section">
                        <h2>Reservations</h2>
                        <div id="reservations-list"></div>
                    </section>
                </div>
            </div>
        </main>
    </div>
    <script src="../scripts/admin.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const role = localStorage.getItem('role');
            if (role !== 'admin') {
                window.location.href = 'home.html';
            }
        });
    </script>
</body>

</html>