<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="demo.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


    <title>Admin Dashboard</title>
</head>

<body>
    <!-- overlay -->
    <div id="sidebar-overlay" class="overlay w-100 vh-100 position-fixed d-none"></div>

    <!-- sidebar -->
    <div class="col-md-3 col-lg-2 px-0 position-fixed h-100 bg-white shadow-sm sidebar" id="sidebar">
        <div class="list-group rounded-0">
            <a href="#" class="list-group-item list-group-item-action active border-0 d-flex align-items-center">
                <span class="bi bi-border-all"></span>
                <span class="ml-2">Admin Dashboard</span>
            </a>
            <a href="#" class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                <span class="bi bi-film"></span>
                <span class="ml-2" id="manage-movies">Manage Movies</span>
            </a>
            <a href="#" class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                <span class="bi bi-geo-alt"></span>
                <span class="ml-2" id="manage-theatres">Manage Theatres</span>
            </a>
            <a href="#" class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                <span class="bi bi-calendar3"></span>
                <span class="ml-2" id="manage-showtimes">Manage Showtime</span>
            </a>
            <a href="#" class="list-group-item list-group-item-action border-0 d-flex align-items-center">
                <span class="bi bi-bookmark-check"></span>
                <span class="ml-2" id="manage-reservations">Manage Reservations</span>
            </a>
        </div>
    </div>


    <div class="col-md-9 col-lg-10 ml-md-auto px-0 ms-md-auto">
        <!-- top nav -->
        <nav class="w-100 d-flex px-4 py-2 mb-4 shadow-sm">
            <div style="display: flex; align-items: center;">
                <div style="font-size: larger; padding: 5px; font-style: italic; display: flex; align-items: center;">
                    <span class="bi bi-camera-reels" style="margin-right: 8px;"></span>
                    CinemaSpot
                </div>
            </div>
            <div style="font-size: large; padding: 5px; width: 100%; translate: 90%;">Hello Admin</div>
            <!-- close sidebar -->
            <button class="btn py-0 d-lg-none" id="open-sidebar">
                <span class="bi bi-list text-primary h3"></span>
            </button>
            <div class="dropdown ml-auto">
                <button class="btn py-0 d-flex align-items-center" id="logout-dropdown" data-toggle="dropdown"
                    aria-expanded="false">
                    <span class="bi bi-person text-primary h4"></span>
                    <span class="bi bi-chevron-down ml-1 mb-2 small"></span>
                </button>
                <div class="dropdown-menu dropdown-menu-right border-0 shadow-sm" aria-labelledby="logout-dropdown">
                    <a class="dropdown-item" href="#">
                        <span class="bi bi-box-arrow-left"></span>
                        Logout
                    </a>
                    <a class="dropdown-item" href="#">
                        <span class="bi bi-gear"></span>
                        Settings
                    </a>
                </div>
            </div>
        </nav>

        <!-- main content -->
        <main class="p-4 min-vh-100">
            <div class="jumbotron jumbotron-fluid rounded bg-white border-0 shadow-sm border-left px-4">
                <div class="container">
                    <h1 class="display-4 mb-2 text-primary">Movies</h1>
                    <section id="movies-section" class="admin-section">
                        <h2>Movies</h2>
                        <form id="movie-form">
                            <input type="text" id="movie-title" placeholder="Movie Title" required>
                            <input type="url" id="movie-poster" placeholder="Poster URL" required>
                            <input type="url" id="movie-cover" placeholder="Cover URL" required>
                            <input type="text" id="movie-language" placeholder="Language" required>
                            <input type="text" id="movie-genre" placeholder="Genre" required>
                            <input type="text" id="movie-director" placeholder="Director" required>
                            <input type="url" id="movie-trailer" placeholder="Trailer URL" required>
                            <input type="text" id="movie-description" placeholder="Description" required>
                            <input type="text" id="movie-duration" placeholder="Duration (e.g., 120 min)" required>
                            <input type="date" id="movie-start-date" placeholder="Start Date" required>
                            <input type="date" id="movie-end-date" placeholder="End Date" required>
                            <button type="submit">Add Movie</button>
                        </form>
                        <div id="movies-list"></div>
                    </section>

                    <section id="theatres-section" class="admin-section">
                        <h2>Theatres</h2>
                        <form id="theatre-form">
                            <input type="text" id="theatre-name" placeholder="Theatre Name" required>
                            <input type="text" id="theatre-city" placeholder="City" required>
                            <input type="number" id="theatre-ticket-price" placeholder="Ticket Price" required>
                            <input type="number" id="theatre-seats" placeholder="Total Seats" required>
                            <button type="submit">Add Theatre</button>
                        </form>
                        <div id="theatres-list"></div>
                    </section>

                    <section id="showtimes-section" class="admin-section">
                        <h2>Showtimes</h2>
                        <form id="showtime-form">
                            <select id="showtime-movie" required></select>
                            <select id="showtime-theatre" required></select>
                            <input type="datetime-local" id="showtime-time" required>
                            <button type="submit">Add Showtime</button>
                        </form>
                        <div id="showtimes-list"></div>
                    </section>

                    <section id="reservations-section" class="admin-section">
                        <h2>Reservations</h2>
                        <div id="reservations-list"></div>
                    </section>
                </div>
            </div>
        </main>
    </div>
    <script type="module" src="demo.js"></script>
    <script src="/scripts/admin.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const role = localStorage.getItem('role');
            if (role !== 'admin') {
                window.location.href = 'home.html';
            }
        });
    </script>
</body>

</html>